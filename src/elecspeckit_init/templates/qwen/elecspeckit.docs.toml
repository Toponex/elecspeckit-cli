description = "Run ElecSpeckit docs workflow for the current feature."

prompt = """
/elecspeckit.docs

Goal
在基于 ElecSpeckit 的硬件项目中，基于当前特性的 spec.md、plan.md 与 tasks.md 生成多角色视图文档和对外 ProductDocumentation 草稿，完成“implement/docs” 阶段，并检查关键技术参数与 tradeoff_factors 的一致性。

Execution Steps (for the AI assistant)
1. 在目标项目根目录工作，与用户确认 FEATURE_DIR（例如 specs/<feature-id>/），并由此确定：
   - FEATURE_SPEC  = FEATURE_DIR/spec.md；
   - FEATURE_PLAN  = FEATURE_DIR/plan.md；
   - FEATURE_TASKS = FEATURE_DIR/tasks.md。
2. 从 FEATURE_SPEC 与 FEATURE_PLAN 中提取角色与关注点：
   - 例如 PM、硬件设计工程师、测试工程师、文档工程师、客户等；
   - 把每类角色最关心的问题（范围、风险、接口、验证方式等）整理出来。
3. 根据 ElecSpeckit 工作流，为每个角色生成或更新对应视图文档：
   - 对内部角色（PM/测试/文档等）写 RoleView 文档，突出各自需要的摘要与细节；
   - 对外部受众生成 ProductDocumentation 草稿（如 datasheet、user_guide），并确保关键技术参数与 spec.md / ArchitecturePlan 一致。
4. 对照 FEATURE_TASKS 和 checklist/analyze/clarify 的结果：
   - 确认所有已完成的任务（尤其是与文档相关的任务）在文档中有体现；
   - 对 checklist 或 analyze 中指出的文档 Gap，确保在本轮 docs 更新中得到处理或明确标记为后续工作。
5. 在发现文档与规格/计划不一致的地方：
   - 在 FEATURE_SPEC 的 Clarifications 或等效区域新增 [CLARIFY] 条目，记录冲突与待决问题；
   - 在 FEATURE_PLAN 的“复杂性跟踪”或“需求覆盖概览”中登记影响，并在后续 /elecspeckit.tasks 中增加相应修正任务。
6. 向用户总结：
   - 本次更新生成或修改了哪些文档（路径和角色/受众）；
   - 哪些关键决策/权衡点已经在文档中清晰体现，哪些仍需要进一步 Clarify 或 Review。

Notes
- /elecspeckit.docs 代表 ElecSpeckit 工作流中的“implement/docs” 阶段，重点是让硬件特性的规格与架构在文档层面可读、可审查、可交付，而不是重新设计需求或架构；
- 模板不绑定具体的文档生成实现，具体使用哪种工具或脚本由项目自身决定，但应通过测试来保证与 spec/plan/tasks 的一致性。
"""
