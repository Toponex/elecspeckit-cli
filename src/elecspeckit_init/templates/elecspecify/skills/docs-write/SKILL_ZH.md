---
name: docs-write
description: Write documentation following Metabase's conversational, clear, and user-focused style. Use when creating or editing documentation files (markdown, MDX, etc.).
allowed-tools: Read, Write, Grep, Bash, Glob
---

# Documentation Writing Skill

基于 Metabase 的对话式、清晰且以用户为中心的风格编写文档。

## 概述

此 Skill 提供了一套经过验证的文档编写指南和最佳实践，帮助您创建清晰、有用且易于理解的技术文档。无论是编写 API 文档、用户指南还是技术规范，这些原则都能帮助您创建高质量的文档。

## 何时使用

- 创建或编辑 Markdown 文档
- 编写 MDX 文件
- 编写 README 文件
- 创建 API 文档
- 编写用户指南
- 撰写技术规范
- 编写教程和操作指南
- 创建发布说明
- 编写故障排除文档
- 撰写电子设计文档
- 编写嵌入式系统开发指南

## 核心原则

### 1. 了解你的读者

在开始写作之前，问自己三个问题：

1. **这是给谁看的？** 匹配内容复杂度与受众水平。不要过度简化复杂内容，也不要过度复杂化简单内容。

   - **新手用户**：需要更多背景信息和逐步指导
   - **经验丰富的开发者**：可以快速浏览，直接获取关键信息
   - **混合受众**：提供分层信息，使用"高级"部分

2. **他们需要什么？** 快速引导他们找到答案。没人想在文档中停留超过必要的时间。

   - 优先展示最常见的用例
   - 将高级主题放在单独的部分
   - 提供清晰的导航结构

3. **你学习时遇到了什么困难？** 你在学习时遇到的常见问题？回答它们（无需字面上包含问题）。

   - 记录你的"啊哈"时刻
   - 澄清容易混淆的概念
   - 提供具体的示例而非抽象的解释

### 2. 编写流程

#### 草稿阶段

- **像对同事讲解一样写出步骤/解释**
  - 使用自然的语言
  - 避免过于正式的表述
  - 想象你正在面对面解释

- **先说做什么，然后解释为什么**
  ```markdown
  ✅ 正确：
  在添加用户之前设置 SAML。这样可以确保所有用户从一开始就使用 SSO 登录。

  ❌ 错误：
  为了确保所有用户都能使用 SSO 登录，你需要在添加用户之前设置 SAML...
  ```

- **使用明确表达要点的标题**
  ```markdown
  ✅ 正确：在添加用户之前设置 SAML
  ❌ 错误：SAML 配置时机
  ```

#### 编辑阶段

- **朗读检查。听起来像你在说话吗？** 如果太正式，简化它。

  ```markdown
  ✅ 正确：打开配置文件并更改端口号。
  ❌ 错误：应当修改配置文件中的端口参数以更新服务监听端口。
  ```

- **删除任何不直接帮助读者的内容**

  - 移除冗余的解释
  - 避免重复说明显而易见的事情
  - 删除"如您所知"、"显然"等填充词

- **检查每个段落是否有一个明确的目的**

  - 每个段落应该传达一个主要思想
  - 如果一个段落涵盖多个主题，拆分它
  - 使用过渡句连接段落

- **验证示例确实有效**（不要给出会报错的示例）

  - 运行所有代码示例
  - 测试所有命令
  - 确保版本兼容性

#### 润色阶段

- **使链接具有描述性**（绝不使用"这里"）

  ```markdown
  ✅ 正确：查看 [SAML 文档](link) 了解详细配置步骤。
  ❌ 错误：点击[这里](link)查看更多信息。
  ```

- **仅对代码/变量使用反引号，对 UI 元素使用粗体**

  ```markdown
  ✅ 正确：点击 **过滤器** 按钮并设置 `max_connections` 参数。
  ❌ 错误：点击 `过滤器` 按钮并设置 **max_connections** 参数。
  ```

- **美式拼写，使用牛津逗号**

  - 在英文内容中使用美式拼写
  - 在列表中的最后一项前使用逗号
  - 保持术语一致性

- **保持图片最少且范围紧密**

  - 仅在文字无法清楚解释时使用图片
  - 裁剪图片以仅显示相关部分
  - 使用注释或箭头突出重点
  - 提供替代文本

#### 格式化阶段

对于使用特定格式化工具的项目（如 Prettier），在编辑后运行格式化：

```bash
yarn prettier --write <file-path>
```

这确保了所有文档的格式一致性。

## 常用模式

### 指令格式

**推荐方式**：

```markdown
运行：
\`\`\`bash
npm install elecspeckit-cli
\`\`\`

然后初始化项目：
\`\`\`bash
elecspeckit init
\`\`\`

这会创建必要的配置文件。
```

**不推荐方式**：

```markdown
（记得在初始化之前运行安装命令...）埋在段落中的说明。
```

### 标题格式

**推荐**：
- "使用环境变量进行配置" ✅
- "在生产环境中启用 HTTPS" ✅
- "调试 I2C 通信问题" ✅

**不推荐**：
- "环境变量" ❌（太模糊）
- "如何使用环境变量进行配置" ❌（太啰嗦）
- "配置" ❌（不够具体）

### 链接格式

**推荐**：
- "查看 [SAML 文档](link) 了解详细信息" ✅
- "参考 [API 参考手册](link) 获取完整的方法列表" ✅

**不推荐**：
- "阅读文档[在此](link)" ❌
- "点击[这里](link)" ❌

### 代码示例格式

**推荐方式**：

```markdown
创建配置文件 `config.yaml`：

\`\`\`yaml
server:
  port: 8080
  host: localhost
\`\`\`

启动服务器：

\`\`\`bash
elecspeckit start --config config.yaml
\`\`\`

你应该看到：

\`\`\`
Server started on http://localhost:8080
\`\`\`
```

**不推荐方式**：

```markdown
你可以创建一个配置文件，然后可能需要启动服务器，大概会显示一些输出...
```

## 注意事项

### 避免的表述

1. **不要将任务描述为"简单"**（你不知道读者的背景）

   ```markdown
   ❌ 错误：这很简单，只需...
   ✅ 正确：配置 API 密钥：...
   ```

2. **在谈论功能时不要使用"我们"**（使用产品名称或"它"）

   ```markdown
   ❌ 错误：我们提供了强大的搜索功能...
   ✅ 正确：ElecSpeckit 提供了强大的搜索功能...
   ```

3. **避免过于正式的语言**：
   - "利用"（utilize）→ "使用"（use）
   - "引用"（reference）→ "查看"（see）
   - "产品"（offerings）→ "功能"（features）

4. **避免过于热情**：
   - 避免多个感叹号
   - 保持专业但友好的语气
   - 不要过度使用表情符号

5. **不要将操作埋在解释中**

   ```markdown
   ❌ 错误：为了能够使用该功能，你需要先做 X，然后做 Y，这样就可以...
   ✅ 正确：
   1. 做 X
   2. 做 Y
   现在你可以使用该功能了。
   ```

6. **避免无效的代码示例**

   - 始终测试你的代码
   - 确保版本兼容性
   - 包含所有必要的导入和依赖项

7. **避免会过时的数字**

   ```markdown
   ❌ 错误：截至 2024 年，我们有 50 个 Skills...
   ✅ 正确：ElecSpeckit 提供多种 Skills...
   ```

## 快速参考

### 词汇选择

| 推荐使用 | 避免使用 |
|---------|---------|
| 人、公司 | 用户（在通用上下文中） |
| 汇总 | 聚合（除非技术术语） |
| 查看 | 引用 |
| 不能、不要 | 不能够、请勿 |
| **过滤器** 按钮 | `过滤器` 按钮 |
| 查看 [文档](link) | 点击[这里](link) |
| 设置 `DEBUG=true` | 设置 **DEBUG** 为 **true** |

### 格式约定

| 元素 | 格式 | 示例 |
|------|------|------|
| UI 元素 | **粗体** | 点击 **保存** 按钮 |
| 代码/变量 | `反引号` | 设置 `max_retries` 为 3 |
| 文件路径 | `反引号` | 编辑 `config/settings.yaml` |
| 命令 | ` ```代码块``` ` | 见下方示例 |
| 强调 | *斜体* 或 **粗体** | *重要*：备份数据 |
| 按键 | `反引号` | 按 `Ctrl+C` 退出 |

## 文档类型特定指南

### API 文档

**结构**：

```markdown
## 方法名称

简短描述方法的作用。

### 参数

- `param1` (类型)：描述
- `param2` (类型，可选)：描述

### 返回值

返回值类型和描述。

### 示例

\`\`\`python
result = method_name(param1="value")
print(result)
\`\`\`

### 错误

- `ErrorType1`：何时抛出
- `ErrorType2`：何时抛出
```

**要点**：
- 始终包含工作示例
- 记录所有参数，包括可选参数
- 说明返回值类型
- 列出可能的错误/异常

### 用户指南

**结构**：

```markdown
# 标题

## 你将学到什么

简要列表。

## 前提条件

- 要求 1
- 要求 2

## 步骤

### 步骤 1：做某事

具体指令。

### 步骤 2：做其他事

更多指令。

## 故障排除

常见问题及解决方案。
```

**要点**：
- 从学习目标开始
- 列出前提条件
- 使用编号步骤
- 包含故障排除部分

### 技术规范

**结构**：

```markdown
# 功能名称

## 概述

高层描述。

## 目标

- 目标 1
- 目标 2

## 技术设计

### 架构

描述或图表。

### 数据模型

表、字段等。

### API 设计

端点和方法。

## 实现计划

分阶段或里程碑。

## 测试策略

如何验证。
```

**要点**：
- 明确目标
- 包含架构图
- 详细说明数据模型
- 定义验收标准

### 嵌入式系统文档

**硬件配置**：

```markdown
## 硬件连接

| ESP32 引脚 | 元件 | 说明 |
|-----------|------|------|
| GPIO 21 | SDA | I2C 数据线 |
| GPIO 22 | SCL | I2C 时钟线 |
| 3.3V | VCC | 电源（3.3V） |
| GND | GND | 地 |
```

**代码示例**：

```markdown
### 初始化 I2C

\`\`\`c
#include <Wire.h>

void setup() {
  Wire.begin(21, 22);  // SDA=21, SCL=22
  Serial.begin(115200);
}
\`\`\`
```

## 检查清单

在发布文档之前，检查：

- [ ] 标题是否明确说明内容？
- [ ] 是否有明确的受众？
- [ ] 步骤是否按逻辑顺序排列？
- [ ] 所有代码示例是否经过测试？
- [ ] 链接是否有描述性？
- [ ] 图片是否有替代文本？
- [ ] 是否使用了正确的格式（粗体 vs 反引号）？
- [ ] 语气是否友好但专业？
- [ ] 是否删除了不必要的内容？
- [ ] 是否经过拼写和语法检查？

## 版本历史

- **v1.0.0**（2025-12-16）：初始版本
  - 基于 Metabase 风格指南
  - 添加嵌入式系统文档指南
  - 包含中文技术写作最佳实践

---

**最后更新**：2025-12-16
**Skill 类型**：Type 1（知识库）
**状态**：生产就绪
